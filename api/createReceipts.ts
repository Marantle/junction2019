const fs = require("fs");
const path = require('path');
const appRoot = path.resolve(__dirname);

const apply = () => {
  const newReceipts = []
  let receiptNumber = 420049479511690;
  const year = 2019;
  let month = 1; 
  let day = 1;
  let loopCount = 0;
  names.forEach( name => {
    loopCount++;
    if (loopCount % 16 === 0) month++;
    if (loopCount % 14 === 0) day++;
    newReceipts.push({
      ...template,
      Receipt: receiptNumber++,
      EAN: name.ean,
      IngredientTypeName: name.finnish,
      TransactionDate: `${year}-0${month}-0${day}`
    })
  })
  fs.writeFileSync(appRoot + '/newReceipts.json', JSON.stringify(newReceipts, null, 2))
}

const template = {
    AreaId: 1,
    Receipt: 420049479511690,
    TransactionDate: "2019-01-30",
    BeginHour: 18,
    EAN: 6410405183637,
    Quantity: "1\t000000",
    PersonAgeGrp: "25-34",
    KCustomer: 6712,
    QualClass: "Q_4-7",
    EasyClass: "E_4-7"
  };

const names = [
  {
     "ean":"6410405082657",
     "finnish":"maito"
  },
  {
     "ean":"6410405234452",
     "finnish":"maito"
  },
  {
     "ean":"6410405082626",
     "finnish":"maito"
  },
  {
     "ean":"6410405181374",
     "finnish":"maito"
  },
  {
     "ean":"6437002001454",
     "finnish":"leipä"
  },
  {
     "ean":"6408430000128",
     "finnish":"maito"
  },
  {
     "ean":"6411402202208",
     "finnish":"leipä"
  },
  {
     "ean":"6410405234483",
     "finnish":"maito"
  },
  {
     "ean":"6408430000258",
     "finnish":"maito"
  },
  {
     "ean":"6408180733260",
     "finnish":"leipä"
  },
  {
     "ean":"6409100050306",
     "finnish":"makkara"
  },
  {
     "ean":"6410405181411",
     "finnish":"maito"
  },
  {
     "ean":"6410405142597",
     "finnish":"kerma"
  },
  {
     "ean":"6408180733901",
     "finnish":"leipä"
  },
  {
     "ean":"6410405040817",
     "finnish":"sokeri"
  },
  {
     "ean":"6408430043200",
     "finnish":"raejuusto"
  },
  {
     "ean":"6410405113559",
     "finnish":"maito"
  },
  {
     "ean":"6411401015090",
     "finnish":"suklaa"
  },
  {
     "ean":"6437005053368",
     "finnish":"leipä"
  },
  {
     "ean":"6410405205483",
     "finnish":"jauheliha"
  },
  {
     "ean":"6410402010318",
     "finnish":"tonnikala"
  },
  {
     "ean":"6410405142610",
     "finnish":"kerma"
  },
  {
     "ean":"6408430000104",
     "finnish":"maito"
  },
  {
     "ean":"6413467282508",
     "finnish":"leipä"
  },
  {
     "ean":"6412000030026",
     "finnish":"laatikko"
  },
  {
     "ean":"6417700050725",
     "finnish":"makaroni"
  },
  {
     "ean":"6411402197108",
     "finnish":"leipä"
  },
  {
     "ean":"6410402011742",
     "finnish":"kermaviili"
  },
  {
     "ean":"6408430000135",
     "finnish":"maito"
  },
  {
     "ean":"6408430042081",
     "finnish":"rahka"
  },
  {
     "ean":"6408430000449",
     "finnish":"maito"
  },
  {
     "ean":"6408430001705",
     "finnish":"piimä"
  },
  {
     "ean":"6410405093448",
     "finnish":"kerma"
  },
  {
     "ean":"6410405169693",
     "finnish":"maito"
  },
  {
     "ean":"6413467402203",
     "finnish":"leipä"
  },
  {
     "ean":"6407870071224",
     "finnish":"leikkele"
  },
  {
     "ean":"6408430037001",
     "finnish":"sinihomejuusto"
  },
  {
     "ean":"6417700060205",
     "finnish":"taikinapakaste"
  },
  {
     "ean":"6413466080204",
     "finnish":"leipä"
  },
  {
     "ean":"2000409600007",
     "finnish":"kirjolohi"
  },
  {
     "ean":"6410405140586",
     "finnish":"kermaviili"
  },
  {
     "ean":"6409100046286",
     "finnish":"pekoni"
  },
  {
     "ean":"6412000017003",
     "finnish":"marmeladi"
  },
  {
     "ean":"6407870070333",
     "finnish":"leikkele"
  },
  {
     "ean":"6408430000241",
     "finnish":"maito"
  },
  {
     "ean":"6410405071118",
     "finnish":"jauheliha"
  },
  {
     "ean":"6408430000548",
     "finnish":"maito"
  },
  {
     "ean":"6408430015481",
     "finnish":"kerma"
  },
  {
     "ean":"6408430014477",
     "finnish":"kerma"
  },
  {
     "ean":"6408430043019",
     "finnish":"raejuusto"
  },
  {
     "ean":"6410405220097",
     "finnish":"jauheliha"
  },
  {
     "ean":"6410405224194",
     "finnish":"maito"
  },
  {
     "ean":"6410405184290",
     "finnish":"jauheliha"
  },
  {
     "ean":"6409620011665",
     "finnish":"jauheliha"
  },
  {
     "ean":"6410405090959",
     "finnish":"kermajuusto"
  },
  {
     "ean":"6410405205360",
     "finnish":"jauheliha"
  },
  {
     "ean":"6408430001934",
     "finnish":"piimä"
  },
  {
     "ean":"6410405216182",
     "finnish":"maito"
  },
  {
     "ean":"7311070347272",
     "finnish":"pulla"
  },
  {
     "ean":"6408430000111",
     "finnish":"maito"
  },
  {
     "ean":"6408430407675",
     "finnish":"vanukas"
  },
  {
     "ean":"6408430001811",
     "finnish":"piimä"
  },
  {
     "ean":"6409620000324",
     "finnish":"nakki"
  },
  {
     "ean":"6410405224613",
     "finnish":"piimä"
  },
  {
     "ean":"6410405121066",
     "finnish":"kerma"
  },
  {
     "ean":"6437005003752",
     "finnish":"leipä"
  },
  {
     "ean":"6406300000414",
     "finnish":"nakki"
  },
  {
     "ean":"6408430337590",
     "finnish":"juusto"
  },
  {
     "ean":"6410405093424",
     "finnish":"kerma"
  },
  {
     "ean":"6410405224644",
     "finnish":"piimä"
  },
  {
     "ean":"6412000030668",
     "finnish":"laatikko"
  },
  {
     "ean":"6412000031856",
     "finnish":"keitto"
  },
  {
     "ean":"6409100060749",
     "finnish":"nakki"
  },
  {
     "ean":"6412000030040",
     "finnish":"laatikko"
  },
  {
     "ean":"6407870074881",
     "finnish":"makkara"
  },
  {
     "ean":"6408430004010",
     "finnish":"kermaviili"
  },
  {
     "ean":"7312220000054",
     "finnish":"piparkakku"
  },
  {
     "ean":"6411401019029",
     "finnish":"suklaapatukka"
  },
  {
     "ean":"6407880084900",
     "finnish":"liha"
  },
  {
     "ean":"6412000030521",
     "finnish":"laatikko"
  },
  {
     "ean":"6410405121080",
     "finnish":"kerma"
  },
  {
     "ean":"6416597113919",
     "finnish":"kaurahiutale"
  }
]
apply();